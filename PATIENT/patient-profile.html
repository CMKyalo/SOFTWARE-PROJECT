<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Patient Profile - E-CARE</title>
    <link rel="stylesheet" href="../CSS/patient.css">
</head>
<body>
    <div class="patient-container">
        <h2>My Profile</h2>
        <p>View and update your personal information and health details.</p>
        <div class="theme-toggle">
            <button id="lightThemeBtn">Light Theme</button>
            <button id="darkThemeBtn">Dark Theme</button>
        </div>
        <section class="profile-info">
            <h3>Personal Information</h3>
            <form id="profileForm">
                <label for="name">Full Name:</label>
                <input type="text" id="name" name="name" value="John Doe" required>
                <label for="email">Email:</label>
                <input type="email" id="email" name="email" value="john.doe@email.com" required>
                <label for="phone">Phone Number:</label>
                <input type="tel" id="phone" name="phone" value="+254700000000">
                <label for="chronic">Chronic Illness:</label>
                <select id="chronic" name="chronic">
                    <option value="">Select</option>
                    <option value="diabetes" selected>Diabetes</option>
                    <option value="cancer">Cancer</option>
                    <option value="hypertension">Hypertension</option>
                    <option value="hepatitis">Hepatitis</option>
                    <option value="other">Other</option>
                </select>
                <button type="submit">Update Profile</button>
            </form>
        </section>
        <section class="profile-summary">
            <h3>Profile Summary</h3>
            <ul id="profileSummary">
                <li>Name: John Doe</li>
                <li>Email: john.doe@email.com</li>
                <li>Phone: +254700000000</li>
                <li>Chronic Illness: Diabetes</li>
            </ul>
        </section>
        <section class="actions">
            <h3>Actions</h3>
            <button id="downloadProfileBtn">Download Profile</button>
            <button id="printProfileBtn">Print Profile</button>
            <button id="shareProfileBtn">Share Profile</button>
            <form id="uploadProfileDocsForm" style="display:inline-block; margin-left:16px;">
                <label for="uploadProfileDocs" style="display:none;">Upload Profile Docs:</label>
                <input type="file" id="uploadProfileDocs" name="uploadProfileDocs" multiple>
                <button type="submit">Upload Docs</button>
            </form>
        </section>
        <nav class="navigation" style="margin-top:32px;">
            <ul>
                <li><a href="patient-dashboard.html">Dashboard</a></li>
                <li><a href="appointments.html">Appointments</a></li>
                <li><a href="consult-doctor.html">Consult Doctor</a></li>
                <li><a href="health-records.html">Health Records</a></li>
                <li><a href="medication.html">Medication</a></li>
                <li><a href="notifications.html">Notifications</a></li>
                <li><a href="../FRONTEND/index.html">Home</a></li>
                <li><a href="../FRONTEND/login.html">Logout</a></li>
            </ul>
        </nav>
    </div>
    <footer style="margin-top:40px; text-align:center; color:#6a7b8c;">
        <p>&copy; 2026 E-CARE / My Healthcare Companion. All rights reserved.</p>
    </footer>
    <script src="../JS/patient.js"></script>
    <script>
    // Download profile (demo: download summary as text)
    document.getElementById('downloadProfileBtn').addEventListener('click', function() {
        const summary = document.getElementById('profileSummary').innerText;
        const blob = new Blob([summary], { type: 'text/plain' });
        const url = URL.createObjectURL(blob);
        const a = document.createElement('a');
        a.href = url;
        a.download = 'patient_profile.txt';
        document.body.appendChild(a);
        a.click();
        document.body.removeChild(a);
        URL.revokeObjectURL(url);
    });
    // Print profile
    document.getElementById('printProfileBtn').addEventListener('click', function() {
        window.print();
    });
    // Share profile (Web Share API)
    document.getElementById('shareProfileBtn').addEventListener('click', function() {
        if (navigator.share) {
            navigator.share({
                title: document.title,
                text: 'Check out my healthcare profile!',
                url: window.location.href
            });
        } else {
            alert('Sharing not supported on this browser.');
        }
    });
    // Upload profile docs (demo only)
    document.getElementById('uploadProfileDocsForm').addEventListener('submit', function(e) {
        e.preventDefault();
        const files = document.getElementById('uploadProfileDocs').files;
        if (files.length > 0) {
            alert('Documents uploaded! (Demo only)');
        } else {
            alert('Please select files to upload.');
        }
    });
    </script>
</body>
</html>
